---

title: Data augmentation


keywords: fastai
sidebar: home_sidebar

summary: "Functions to augment the user's dataset with information from official sources."
description: "Functions to augment the user's dataset with information from official sources."
nb_path: "00_augmentation.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_augmentation.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Data-augmentation-as-a-transformer">Data augmentation as a transformer<a class="anchor-link" href="#Data-augmentation-as-a-transformer"> </a></h2><p>The package <code>scikit-learn</code> makes use of the concept of transformer, an object in python that adapts the transformation at hand to the training data, and then deploys it on the testing data. These transformers can be used as part of a pipeline.</p>
<p>In order to ensure maximumm compatibility with packages that are widely used, <code>gingado</code>'s data augmentation function are implemented as an object that are funcional on their own, but also as a transformer as parte pines.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ggdAugmentSDMX2</span><span class="p">(</span><span class="n">BaseEstimator</span><span class="p">,</span> <span class="n">TransformerMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;BIS&#39;</span><span class="p">,</span> <span class="s1">&#39;ECB&#39;</span><span class="p">,</span> <span class="s1">&#39;IMF&#39;</span><span class="p">,</span> <span class="s1">&#39;UNSD&#39;</span><span class="p">,</span> <span class="s1">&#39;WB&#39;</span><span class="p">],</span> <span class="n">variance_threshold</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;memory&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sources</span> <span class="o">=</span> <span class="n">sources</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">variance_threshold</span> <span class="o">=</span> <span class="n">variance_threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">=</span> <span class="n">backend</span>

    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">index</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="s2">&quot;index&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_freq_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_</span><span class="o">.</span><span class="n">to_series</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">resolution_string</span>
        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_freq_</span> <span class="o">==</span> <span class="s1">&#39;D&#39;</span> <span class="k">else</span> <span class="s2">&quot;%Y-%m&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_freq_</span> <span class="o">==</span> <span class="s1">&#39;M&#39;</span> <span class="k">else</span> <span class="s2">&quot;%Y&quot;</span>

        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_data</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">keys_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;FREQ&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_freq_</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">params_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;startPeriod&quot;</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index_</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">format_string</span><span class="p">),</span>
            <span class="s2">&quot;endPeriod&quot;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index_</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">format_string</span><span class="p">),</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">):</span>
        <span class="n">check_is_fitted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">data_sdmx</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sources</span><span class="p">:</span>
            <span class="n">src_conn</span> <span class="o">=</span> <span class="n">sdmx</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">,</span> <span class="n">expire_after</span><span class="o">=</span><span class="mi">1800</span><span class="p">)</span>
            <span class="n">src_dflows</span> <span class="o">=</span> <span class="n">src_conn</span><span class="o">.</span><span class="n">dataflow</span><span class="p">()</span>
            <span class="n">dflows</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">src_dflows</span><span class="o">.</span><span class="n">dataflow</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">for</span> <span class="n">dflow</span> <span class="ow">in</span> <span class="n">dflows</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Trying to download data from </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39;s dataflow </span><span class="si">{</span><span class="n">dflow</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">sdmx</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">(</span><span class="n">src_conn</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">dflow</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys_</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params_</span><span class="p">),</span> <span class="n">datetime</span><span class="o">=</span><span class="s1">&#39;TIME_PERIOD&#39;</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this dataflow does not have data in the desired frequency and time period.&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;__&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_flat_index</span><span class="p">()]</span>
                <span class="n">data_sdmx</span><span class="p">[</span><span class="n">source</span><span class="o">+</span><span class="s2">&quot;__&quot;</span><span class="o">+</span><span class="n">dflow</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_sdmx</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">X</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_sdmx</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_flat_index</span><span class="p">()]</span>

        <span class="n">feat_sel</span> <span class="o">=</span> <span class="n">VarianceThreshold</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">variance_threshold</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">VarianceThreshold</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variance_threshold</span><span class="p">)</span>
        <span class="n">feat_sel</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    
        <span class="bp">self</span><span class="o">.</span><span class="n">features_stay</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">feat_sel</span><span class="o">.</span><span class="n">get_support</span><span class="p">()]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">features_removed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="o">~</span><span class="n">feat_sel</span><span class="o">.</span><span class="n">get_support</span><span class="p">()]</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">feat_sel</span><span class="o">.</span><span class="n">get_support</span><span class="p">()]</span>
        <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">augm_df_</span> <span class="o">=</span> <span class="n">df</span>
        <span class="k">del</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

        <span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">augm_df_</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">X</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ggdAugmentSDMX" class="doc_header"><code>class</code> <code>ggdAugmentSDMX</code><a href="" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ggdAugmentSDMX</code>(<strong><code>sources</code></strong>=<em><code>['BIS', 'ECB', 'IMF', 'UNSD', 'WB']</code></em>, <strong><code>variance_threshold</code></strong>=<em><code>None</code></em>, <strong><code>backend</code></strong>=<em><code>'memory'</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As mentioned above, <code>gingado</code>'s transformers are built to be compatible with <code>scikit-learn</code>. The code below checks whether this is achieved:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">gingado.utils</span> <span class="kn">import</span> <span class="n">load_EURFX_data</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">load_EURFX_data</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;BRL&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ggd2</span> <span class="o">=</span> <span class="n">ggdAugmentSDMX2</span><span class="p">(</span><span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ECB&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;startPeriod&#39;: &#39;2003-01-02&#39;, &#39;endPeriod&#39;: &#39;2022-05-20&#39;}
Trying to download data from ECB&#39;s dataflow AME...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow BKN...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow BLS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow BNT...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow BOP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow BSI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow BSP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow CBD...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow CBD2...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow CCP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow CISS...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:04:54,856 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow CLIFS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow CPP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow DCM...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow DD...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow EON...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:05:33,653 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow ESA...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow ESB...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow EST...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow EXR...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:06:12,601 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow FM...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:09:55,295 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow FVC...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow FXI...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:10:08,027 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow GST...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow ICB...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow ICO...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow ICP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow IFI...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:10:57,771 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow ILM...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:10:58,693 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow IRS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow IVF...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow KRI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow LIG...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow MFI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow MIR...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow MMS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow MMSR...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow MPD...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow OFI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow PFB...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow PFBR...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow PSS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RA...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RAI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RDE...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:11:23,622 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow RDF...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-23 06:11:36,976 pandasdmx.reader.sdmxml - INFO: Use supplied dsd=… argument for non–structure-specific message
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Trying to download data from ECB&#39;s dataflow RESC...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RESH...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RESR...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RESV...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RIR...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RPP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RPV...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow RTD...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SAFE...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SEC...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SEE...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SHI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SHS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SPF...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SSI...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SSP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SST...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow ST1...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow ST3...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow STP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow STS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SUP...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow SUR...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow TGB...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow TRD...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow WTS...
this dataflow does not have data in the desired frequency and time period.
Trying to download data from ECB&#39;s dataflow YC...
this dataflow does not have data in the desired frequency and time period.
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AUD</th>
      <th>CAD</th>
      <th>CHF</th>
      <th>GBP</th>
      <th>JPY</th>
      <th>SGD</th>
      <th>USD</th>
      <th>ECB__CISS_D__AT__Z0Z__4F__EC__SS_CIN__IDX</th>
      <th>ECB__CISS_D__BE__Z0Z__4F__EC__SS_CIN__IDX</th>
      <th>ECB__CISS_D__CN__Z0Z__4F__EC__SS_CIN__IDX</th>
      <th>...</th>
      <th>ECB__RDE_D__D0__Z0Z__DE__EC__SRCB_COVAR__95P</th>
      <th>ECB__RDE_D__D0__Z0Z__DE__EC__SRCB_COVAR__AVE</th>
      <th>ECB__RDE_D__D0__Z0Z__DE__EC__SRCI_COVAR__5P</th>
      <th>ECB__RDE_D__D0__Z0Z__DE__EC__SRCI_COVAR__95P</th>
      <th>ECB__RDE_D__D0__Z0Z__DE__EC__SRCI_COVAR__AVE</th>
      <th>ECB__RDF_D__D0__Z0Z__4F__EC__DFTLB__PR</th>
      <th>ECB__RDF_D__U2__Z0Z__4F__EC__U2_CEB__HST</th>
      <th>ECB__RDF_D__U2__Z0Z__4F__EC__U2_CI__HST</th>
      <th>ECB__RDF_D__U2__Z0Z__4F__EC__U2_GRAI__HST</th>
      <th>ECB__RDF_D__U2__Z0Z__4F__EC__U2_MM__HST</th>
    </tr>
    <tr>
      <th>TIME_PERIOD</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2003-01-02</th>
      <td>1.8554</td>
      <td>1.6422</td>
      <td>1.4528</td>
      <td>0.65200</td>
      <td>124.40</td>
      <td>1.8188</td>
      <td>1.0446</td>
      <td>0.023427</td>
      <td>0.047823</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.50</td>
      <td>-0.42</td>
      <td>1.17</td>
      <td>0.08</td>
    </tr>
    <tr>
      <th>2003-01-03</th>
      <td>1.8440</td>
      <td>1.6264</td>
      <td>1.4555</td>
      <td>0.65000</td>
      <td>124.56</td>
      <td>1.8132</td>
      <td>1.0392</td>
      <td>0.021899</td>
      <td>0.043292</td>
      <td>NaN</td>
      <td>...</td>
      <td>-0.008989</td>
      <td>-0.078866</td>
      <td>-0.178504</td>
      <td>-0.04966</td>
      <td>-0.112854</td>
      <td>NaN</td>
      <td>-0.48</td>
      <td>-0.40</td>
      <td>1.04</td>
      <td>0.08</td>
    </tr>
    <tr>
      <th>2003-01-06</th>
      <td>1.8281</td>
      <td>1.6383</td>
      <td>1.4563</td>
      <td>0.64950</td>
      <td>124.40</td>
      <td>1.8210</td>
      <td>1.0488</td>
      <td>0.020801</td>
      <td>0.039924</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.47</td>
      <td>-0.36</td>
      <td>0.78</td>
      <td>0.11</td>
    </tr>
    <tr>
      <th>2003-01-07</th>
      <td>1.8160</td>
      <td>1.6257</td>
      <td>1.4565</td>
      <td>0.64960</td>
      <td>124.82</td>
      <td>1.8155</td>
      <td>1.0425</td>
      <td>0.019738</td>
      <td>0.038084</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.45</td>
      <td>-0.34</td>
      <td>0.61</td>
      <td>0.11</td>
    </tr>
    <tr>
      <th>2003-01-08</th>
      <td>1.8132</td>
      <td>1.6231</td>
      <td>1.4586</td>
      <td>0.64950</td>
      <td>124.90</td>
      <td>1.8102</td>
      <td>1.0377</td>
      <td>0.019947</td>
      <td>0.040338</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.43</td>
      <td>-0.30</td>
      <td>0.90</td>
      <td>0.13</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-05-16</th>
      <td>1.5057</td>
      <td>1.3473</td>
      <td>1.0479</td>
      <td>0.85045</td>
      <td>135.01</td>
      <td>1.4531</td>
      <td>1.0422</td>
      <td>0.284438</td>
      <td>0.158944</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2022-05-17</th>
      <td>1.4993</td>
      <td>1.3517</td>
      <td>1.0457</td>
      <td>0.84400</td>
      <td>136.32</td>
      <td>1.4589</td>
      <td>1.0541</td>
      <td>0.303949</td>
      <td>0.173353</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2022-05-18</th>
      <td>1.4980</td>
      <td>1.3488</td>
      <td>1.0486</td>
      <td>0.84670</td>
      <td>135.76</td>
      <td>1.4598</td>
      <td>1.0523</td>
      <td>0.307806</td>
      <td>0.176587</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2022-05-19</th>
      <td>1.5036</td>
      <td>1.3490</td>
      <td>1.0265</td>
      <td>0.84728</td>
      <td>134.46</td>
      <td>1.4576</td>
      <td>1.0525</td>
      <td>0.303497</td>
      <td>0.192594</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2022-05-20</th>
      <td>1.4980</td>
      <td>1.3526</td>
      <td>1.0280</td>
      <td>0.84820</td>
      <td>135.34</td>
      <td>1.4588</td>
      <td>1.0577</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>4965 rows × 182 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">augm_df</span> <span class="o">=</span> <span class="n">ggdAugmentSDMX</span><span class="p">(</span><span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ECB&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">EUR_FX</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It can also be part of a <code>Pipeline</code> object, which enables the use of grid search and other parameter search techniques:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">gingado.augmentation</span> <span class="kn">import</span> <span class="n">ggdAugmentSDMX</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;augmentation&#39;</span><span class="p">,</span> <span class="n">ggdAugmentSDMX</span><span class="p">(</span><span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ECB&#39;</span><span class="p">])),</span>
    <span class="p">(</span><span class="s1">&#39;scaler&#39;</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">()),</span>
    <span class="p">(</span><span class="s1">&#39;regressor&#39;</span><span class="p">,</span> <span class="n">RandomForestRegressor</span><span class="p">())</span>
<span class="p">])</span>

<span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;augmentation__sources&#39;</span><span class="p">:</span> <span class="p">([</span><span class="s1">&#39;ECB&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;BIS&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;regressor__n_estimators&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;500&#39;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">grid_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">grid_search</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>

<span class="n">best_parameters</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_estimator_</span><span class="o">.</span><span class="n">get_params</span><span class="p">()</span>
<span class="k">for</span> <span class="n">param_name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">%s</span><span class="s2">: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="n">best_parameters</span><span class="p">[</span><span class="n">param_name</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">best_parameters</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_estimator_</span><span class="o">.</span><span class="n">get_params</span><span class="p">()</span>
<span class="k">for</span> <span class="n">param_name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">%s</span><span class="s2">: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">param_name</span><span class="p">,</span> <span class="n">best_parameters</span><span class="p">[</span><span class="n">param_name</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Overall-scheme:">Overall scheme:<a class="anchor-link" href="#Overall-scheme:"> </a></h2><ul>
<li>Since sklearn <code>Pipeline</code> objects transform data into numpy arrays (and thus do not allow for things like looking at the index or title, etc), <code>gingado</code> will create a "workflow" object that:<ul>
<li>includes the data augmentation (useful to have pandas available!)</li>
<li>the sklearn pipeline is a component that lies in the "middle" of the pipeline</li>
<li>the documentation step benefits from the workflow retaining things like main dates, etc, so that it can also be used in the documentation.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Other-functions">Other functions<a class="anchor-link" href="#Other-functions"> </a></h2><p>Most users will probably find it helpful to use the <code>DataAugment</code> transformer, which is compatible with <code>scikit-learn</code>, rather than the underlying functions. However, they are documented below in case their use might address some specific user need.</p>
<h2 id="Sources-of-data">Sources of data<a class="anchor-link" href="#Sources-of-data"> </a></h2><p><code>gingado</code> only lists official data sources by choice. This is meant to provide users with the trust that their dataset will be complemented by reliable sources. Unfortunately, it is not possible at this stage to include <em>all</em> official sources - let alone all reliable sources - because that requires substantial manual and maintenance work. <code>gingado</code> leverages the existence of the <a href="https://sdmx.org">Statistical Data and Metadata eXchange (SDMX)</a>, an organisation of official data sources that establishes common data and metadata formats, to download data that is relevant (and hopefully also useful) to users.</p>
<p>The function below from the package <a href="https://github.com/dkgaraujo/simpledmx">simpledmx</a> returns a list of codes corresponding to the data sources available to provide <code>gingado</code> users with data through SDMX.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">list_sdmx_sources</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="augm_with_sdmx" class="doc_header"><code>augm_with_sdmx</code><a href="https://github.com/dkgaraujo/gingado/tree/main/gingado/augmentation.py#L75" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>augm_with_sdmx</code>(<strong><code>df</code></strong>, <strong><code>freq</code></strong>, <strong><code>sources</code></strong>, <strong><code>variance_threshold</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Downloads relevant data from SDMX sources to complement the original dataset</p>
<p>Arguments:
  df: a pandas DataFrame
  freq: the frequency of the desired data from SDMX; for example, 'A' is annual
  sources: the list of SDMX sources or None; a list of possible sources can be obtained by running the function list_sdmx_sources()
  variance_threshold: a value larger than or equal to 0 or None, where 0 will lead to the removal of all data that does not vary across the dataset and None uses the scikit-learn default</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-gingado-to-jumpstart-a-dataset">Using <code>gingado</code> to jumpstart a dataset<a class="anchor-link" href="#Using-gingado-to-jumpstart-a-dataset"> </a></h2><p>Since <code>gingado</code> downloads data from official sources through SDMX, users may want to use this funcitonality to gather the dataset of interest instead of augmenting some previously existent data. In these cases, the argument <code>df</code> must be set to <code>None</code>, like so:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_data</span> <span class="o">=</span> <span class="n">augm_with_sdmx</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s1">&#39;2020&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">time_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sources</span><span class="o">=</span><span class="s1">&#39;BIS&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_data</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The code above uses a greedy SDMX downloader that is not too concerned about selecting datasets in advance; rather, it downloads it data it possibly can from those official sources for the time period and frequency in question. It then filters out those data points that do not vary throughout the period, avoiding the use of memory to store data that does not contribute to the predictive power of the model. The dataset is then ready to be used.</p>
<p>Two things are important to highlight. First, choosing even one source (the <a href="www.bis.org">BIS</a> in this example) leads to the download of hundreds of variables. Some of them might be representing the same underlying concepts, but for different jurisdictions. The second thing to bear in mind is that download and in particular parsing of the SDMX data can take up some time depending on your local setting.</p>
<p>To use <code>gingado</code> to augment your dataset instead of creating a completely new one as done above, simply pass the original DataFrame as the argument <code>df</code> and name the corresponding column with the time values in the argument <code>time_col</code>.</p>

</div>
</div>
</div>
</div>
 

